<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="../../css/examples.css">
		<script type="text/javascript" src="../../../../requirejs/require.js" data-main="../../../../"></script>
		<script type="text/javascript">
			require([
				"delite/register",
				"liaison/Observable",
				"liaison/ObservablePath",
				"liaison/delite/widgets/StarRating"
			], function (register, Observable, ObservablePath) {
				function startup() {
					var REGEXP_NUMBER_BINDING = /^number:(.*)$/,
						template = document.getElementById("main-template");
					template.createBindingSourceFactory = function(target){
						var match = REGEXP_NUMBER_BINDING.exec(target);
						if(match){
							var path = match[1];
							return function(model){
								return new ObservablePath(model, path, function(value){
									return value + "";
								}, function(value){
									return +value;
								});
							}
						}
					};
					template.bind("bind", new Observable({
						value: 3,
						max: 5,
						disabled: false,
						readOnly: false
					}));
				}
				document.body ? startup() : window.addEventListener("DOMContentLoaded", startup);
			});

		</script>
	</head>
	<body>
		<template id="main-template">
			<div>
				<span class="cell">Rating:</span> <d-b-star-rating value="{{value}}" max="{{max}}" disabled="{{disabled}}" readOnly="{{readOnly}}"></d-b-star-rating>
			</div>
			<div>
				<span class="cell">Value:</span> <input type="number" value="{{number:value}}">
			</div>
			<div>
				<span class="cell">Max:</span> <input type="number" value="{{number:max}}">
			</div>
			<div>
				<span class="cell">Disabled:</span> <input type="checkbox" checked="{{disabled}}">
			</div>
			<div>
				<span class="cell">Read only:</span> <input type="checkbox" checked="{{readOnly}}">
			</div>
		</template>
	</body>
</html>
